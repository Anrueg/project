$schema: "https://moonrepo.dev/schemas/tasks.json"

{%- macro task(name, tpl, note) -%}
  "{{ name }}":
    description: "{{ note }}"
    script: moon generate {{ tpl }} && moon wizard:sync --affected
    options:
      interactive: true
      cache: false
{%- endmacro %}

tasks:
  {{ task('add-cmp', 'angular-app', 'Add angular app') }}

  {{ task('add-svc', 'angular-svc', 'Add service') }}

  {{ task('add-pipe', 'angular-pipe', 'Add pipe') }}

  {{ task('add-module', 'angular-module -- --folder=@meta(folder)', 'Add module') }}
